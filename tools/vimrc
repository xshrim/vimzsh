" debug vim
" vim --noplugin -D
" disable all pulgins
" vim -U NONE -u

" è®¾ç½®.vimæ–‡ä»¶è·¯å¾„
" vim -u ~/.vimrc  " è®¾ç½®vimå¯åŠ¨æ—¶ä½¿ç”¨çš„é…ç½®æ–‡ä»¶
set runtimepath=~/.vim,$VIM/vimfiles,$VIMRUNTIME,$VIM/vimfiles/after,~/.vim/after
if version >=800
  set packpath=~/.vim,$VIM/vimfiles,$VIMRUNTIME,$VIM/vimfiles/after,~/.vim/after
endif

set encoding=utf-8
scriptencoding utf-8
" è¯†åˆ«æ–‡ä»¶ç¼–ç 
set fileencodings=utf-8,ucs-bom,shift-jis,gb18030,gbk,gb2312,cp936
set termencoding=utf-8
set fileencodings=ucs-bom,utf-8,cp936
set fileencoding=utf-8
" æ˜¾ç¤ºä¸­æ–‡å¸®åŠ©
set helplang=cn
" è¯­è¨€è®¾ç½®
set langmenu=zh_CN.UTF-8
""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
" vimä¸»é¢˜ç«™ç‚¹ï¼šhttp://bytefluent.com/vivify/
""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
" æ˜¾ç¤ºç›¸å…³
""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
set t_Co=256
set nocompatible  "å»æ‰è®¨åŒçš„æœ‰å…³viä¸€è‡´æ€§æ¨¡å¼ï¼Œé¿å…ä»¥å‰ç‰ˆæœ¬çš„ä¸€äº›bugå’Œå±€é™
" è‡ªå®šä¹‰é«˜äº®å½“å‰è¡Œ
set cursorline
"hi CursorLine  cterm=NONE   ctermbg=darkred ctermfg=white
"hi CursorColumn cterm=NONE ctermbg=darkred ctermfg=white
"set cuc      " é«˜äº®åˆ—
set shortmess=atI   " å¯åŠ¨çš„æ—¶å€™ä¸æ˜¾ç¤ºé‚£ä¸ªæ´åŠ©ä¹Œå¹²è¾¾å„¿ç«¥çš„æç¤º
"set go=             " ä¸è¦å›¾å½¢æŒ‰é’®
"color desert     " è®¾ç½®èƒŒæ™¯ä¸»é¢˜
"color maroloccio     " è®¾ç½®èƒŒæ™¯ä¸»é¢˜
"color torte     " è®¾ç½®èƒŒæ™¯ä¸»é¢˜
"colorscheme murphy
"if has('gui_running')
"    set background=light
"else
"    set background=dark
"endif
set guifont=DejaVu\ Sans\ mono\ 11   " è®¾ç½®å­—ä½“
"autocmd InsertLeave * se nocul  " ç”¨æµ…è‰²é«˜äº®å½“å‰è¡Œ
"autocmd InsertEnter * se cul    " ç”¨æµ…è‰²é«˜äº®å½“å‰è¡Œ
"set whichwrap+=<,>,h,l   " å…è®¸backspaceå’Œå…‰æ ‡é”®è·¨è¶Šè¡Œè¾¹ç•Œ(ä¸å»ºè®®)
set scrolloff=2     " å…‰æ ‡ç§»åŠ¨åˆ°bufferçš„é¡¶éƒ¨å’Œåº•éƒ¨æ—¶ä¿æŒ2è¡Œè·ç¦»
set laststatus=2    " å¯åŠ¨æ˜¾ç¤ºçŠ¶æ€è¡Œ(1),æ€»æ˜¯æ˜¾ç¤ºçŠ¶æ€è¡Œ(2)
"set foldenable      " å…è®¸æŠ˜å 
"set foldmethod=manual   " æ‰‹åŠ¨æŠ˜å 
" ä¾¦æµ‹æ–‡ä»¶ç±»å‹
filetype on
" è½½å…¥æ–‡ä»¶ç±»å‹æ’ä»¶
filetype plugin on
" ä¸ºç‰¹å®šæ–‡ä»¶ç±»å‹è½½å…¥ç›¸å…³ç¼©è¿›æ–‡ä»¶
filetype indent on
" å¼€å¯è¯­æ³•æ£€æŸ¥
syntax enable
syntax on
" è‡ªåŠ¨ç¼©è¿›
set autoindent
set cindent
" Tabé”®çš„å®½åº¦
set tabstop=2
" ç»Ÿä¸€ç¼©è¿›ä¸º2
set softtabstop=2
set shiftwidth=2
" ç”¨ç©ºæ ¼ä»£æ›¿åˆ¶è¡¨ç¬¦
set expandtab
" åœ¨è¡Œå’Œæ®µå¼€å§‹å¤„ä½¿ç”¨åˆ¶è¡¨ç¬¦
set smarttab
" æ˜¾ç¤ºè¡Œå·
set nonumber
" set nu
" æ˜¾ç¤ºç›¸å¯¹è¡Œå·
" set relativenumber
" å†å²è®°å½•æ•°
set history=10000
" æœç´¢é€å­—ç¬¦é«˜äº®
set hlsearch
set incsearch
" å‘½ä»¤è¡Œé«˜åº¦
set cmdheight=1
" ä»£ç è¡¥å…¨
set completeopt=preview,menu
"set completeopt=longest,menu
"set completeopt=menu
" å…è®¸ä¸ä¿å­˜bufferæ—¶åˆ‡æ¢
set hidden
" å…±äº«å‰ªè´´æ¿
set clipboard+=unnamed
" è‡ªåŠ¨ä¿å­˜
set autowrite
"set ruler                   " æ‰“å¼€çŠ¶æ€æ æ ‡å°º
"set cursorline              " çªå‡ºæ˜¾ç¤ºå½“å‰è¡Œ
set magic                    " è®¾ç½®é­”æœ¯
"set guioptions-=T           " éšè—å·¥å…·æ 
"set guioptions-=m           " éšè—èœå•æ 
"set foldcolumn=0
set foldmethod=indent
set nofoldenable
"set foldlevel=3
" å»æ‰è¾“å…¥é”™è¯¯çš„æç¤ºå£°éŸ³
set noerrorbells
" å»æ‰æŒ‰Enteré”®æˆ–å…¶ä»–å‘½ä»¤ä»¥ç»§ç»­æç¤º
set shortmess=atI
" åœ¨å¤„ç†æœªä¿å­˜æˆ–åªè¯»æ–‡ä»¶çš„æ—¶å€™ï¼Œå¼¹å‡ºç¡®è®¤
set confirm
" ç¦æ­¢ç”Ÿæˆä¸´æ—¶æ–‡ä»¶
set nobackup
set noswapfile
set noundofile
" æœç´¢å¿½ç•¥å¤§å°å†™
set ignorecase
set smartcase
set linespace=0
" å¢å¼ºæ¨¡å¼ä¸­çš„å‘½ä»¤è¡Œè‡ªåŠ¨å®Œæˆæ“ä½œ
set wildmenu
" ä½¿å›æ ¼é”®ï¼ˆbackspaceï¼‰æ­£å¸¸å¤„ç†indent, eol, startç­‰
set backspace=2
" å…è®¸backspaceå’Œå…‰æ ‡é”®è·¨è¶Šè¡Œè¾¹ç•Œ
set whichwrap+=<,>,h,l
" é€šè¿‡ä½¿ç”¨: commandså‘½ä»¤ï¼Œå‘Šè¯‰æˆ‘ä»¬æ–‡ä»¶çš„å“ªä¸€è¡Œè¢«æ”¹å˜è¿‡
set report=0
" åœ¨è¢«åˆ†å‰²çš„çª—å£é—´æ˜¾ç¤ºç©ºç™½ï¼Œä¾¿äºé˜…è¯»
set fillchars=vert:\ ,stl:\ ,stlnc:\
" é«˜äº®æ˜¾ç¤ºåŒ¹é…çš„æ‹¬å·
set showmatch
" åŒ¹é…æ‹¬å·é«˜äº®çš„æ—¶é—´ï¼ˆå•ä½æ˜¯ååˆ†ä¹‹ä¸€ç§’ï¼‰
set matchtime=1
" è®¾ç½®æ˜ å°„å»¶è¿Ÿå’ŒæŒ‰é”®å»¶è¿Ÿ
set timeoutlen=500
set ttimeoutlen=10
" ä¿å­˜å…¨å±€å˜é‡
set viminfo+=!
" å¸¦æœ‰å¦‚ä¸‹ç¬¦å·çš„å•è¯ä¸è¦è¢«æ¢è¡Œåˆ†å‰²
set iskeyword+=_,$,@,%,#,-
" å­—ç¬¦é—´æ’å…¥çš„åƒç´ è¡Œæ•°ç›®
set ruler           " æ˜¾ç¤ºæ ‡å°º
set showcmd         " è¾“å…¥çš„å‘½ä»¤æ˜¾ç¤ºå‡ºæ¥ï¼Œçœ‹çš„æ¸…æ¥šäº›
set showmode        " æ˜¾ç¤ºå½“å‰æ¨¡å¼
" å°†tabæ›¿æ¢ä¸ºç©ºæ ¼
"nmap tt :%s/\t/    /g<CR>
" ä»…éœ€è¦æ—¶é‡ç»˜
"set lazyredraw

""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
"é”®ç›˜å‘½ä»¤
""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
" è‡ªå®šä¹‰è€æ¿é”®(é»˜è®¤æ˜¯\)
let mapleader="\\"
" è‡ªå®šä¹‰escé”®(é»˜è®¤æ˜¯<esc>å’Œ<C-[>)
" inoremap jo <esc>

" å¯ä»¥åœ¨bufferçš„ä»»ä½•åœ°æ–¹ä½¿ç”¨é¼ æ ‡ï¼ˆç±»ä¼¼officeä¸­åœ¨å·¥ä½œåŒºåŒå‡»é¼ æ ‡å®šä½ï¼‰
" æ”¯æŒæ»šè½®
set mousemodel=popup
set mouse-=a
set selection=exclusive
set selectmode=mouse,key
" è¾“å…¥æ³•
:let g:vimim_map='c-/'
":let g:vimim_cloud='sougou' " QQäº‘è¾“å…¥
:let g:vimim_punctuation=0  " ä¸ç”¨ä¸­æ–‡æ ‡ç‚¹
:let g:vimim_cloud=-1

" ç¼–è¾‘æ¨¡å¼ä¸‹æ˜ å°„æ–¹å‘é”®ä½¿hjklèƒ½ç§»åŠ¨å…‰æ ‡
inoremap <silent><C-H> <Left>
inoremap <silent><C-L> <Right>
inoremap <silent><C-J> <Down>
inoremap <silent><C-K> <Up>

" å¤§äºå°äºå·ç¼©è¿›
xnoremap < <gv
xnoremap > >gv

" å¤åˆ¶ç²˜è´´æ˜ å°„
map <C-y> "+y
map <C-p> "+gp

" ç¦ç”¨ç®­å¤´æŒ‰é”®
"nnoremap <left> <Nop>
"nnoremap <right> <Nop>
"nnoremap <up> <Nop>
"nnoremap <down> <Nop>
"inoremap <left> <Nop>
"inoremap <right> <Nop>
"inoremap <up> <Nop>
"inoremap <down> <Nop>
"vnoremap <left> <Nop>
"vnoremap <right> <Nop>
"vnoremap <up> <Nop>
"vnoremap <down> <Nop>

" å¤–éƒ¨ç²˜è´´æ— éœ€æ‰‹åŠ¨åˆ‡æ¢pasteæ¨¡å¼
"nnoremap :set invpaste paste? imap :set invpaste paste? set pastetoggle=
"set pastetoggle=
"==========
"nnoremap <F2> :set invpaste paste?<CR>
"imap <F2> <C-O>:set invpaste paste?<CR>
"set pastetoggle=<F2>
"==========
let &t_SI .= "\<Esc>[?2004h"
let &t_EI .= "\<Esc>[?2004l"

inoremap <special> <expr> <Esc>[200~ XTermPasteBegin()

function! XTermPasteBegin()
  set pastetoggle=<Esc>[201~
  set paste
  return ""
endfunction

" è‡ªå®šä¹‰statuslineå‡½æ•°(aleæ’ä»¶å®ç°)
function! LinterStatus() abort
    let l:counts = ale#statusline#Count(bufnr(''))

    let l:all_errors = l:counts.error + l:counts.style_error
    let l:all_non_errors = l:counts.total - l:all_errors

    return l:counts.total == 0 ? 'OK' : printf(
    \   '%dW %dE',
    \   all_non_errors,
    \   all_errors
    \)
endfunction

" è‡ªå®šä¹‰çŠ¶æ€æ 
"set statusline=%F%m%r%h%w\ [FORMAT=%{&ff}]\ [TYPE=%Y]\ [ASCII=/%03.3b]\ [POS=%l,%v]\ [LEN=%L]\ [%p%%]\ %{strftime(\"%d/%m/%y\ -\ %H:%M\")}\ %{LinterStatus()}   "çŠ¶æ€è¡Œæ˜¾ç¤ºçš„å†…å®¹
set statusline=%F%m%r%h%w\ [FORMAT=%{&ff}]\ [TYPE=%Y]\ [ASCII=/%03.3b]\ [POS=%l,%v]\ [LEN=%L]\ [%p%%]\ %{strftime(\"%d/%m/%y\ -\ %H:%M\")}   "çŠ¶æ€è¡Œæ˜¾ç¤ºçš„å†…å®¹


" è®¾ç½®å½“æ–‡ä»¶è¢«æ”¹åŠ¨æ—¶è‡ªåŠ¨è½½å…¥
set autoread
augroup filetype_cpp
    autocmd!
    autocmd FileType c,cpp map <buffer> <leader><space> :w<cr>:make<cr>
augroup END
augroup filetype_dict
    autocmd!
    autocmd FileType php set dict+=~/.vim/dict/php_funclist.dict
    autocmd FileType css set dict+=~/.vim/dict/css.dict
    autocmd FileType c set dict+=~/.vim/dict/c.dict
    autocmd FileType cpp set dict+=~/.vim/dict/cpp.dict
    autocmd FileType scale set dict+=~/.vim/dict/scale.dict
    autocmd FileType javascript set dict+=~/.vim/dict/javascript.dict
    autocmd FileType html set dict+=~/.vim/dict/javascript.dict
    autocmd FileType html set dict+=~/.vim/dict/css.dict
augroup END

"ä¿®æ”¹æ–‡ä»¶ä¸ºunixæ ¼å¼
map <C-!> :call FormatClean()<CR>
func! FormatClean()
    exec 'set fileformat=unix'
    exec 'w'
endfunc

" ç»Ÿä¸€ç¼©è¿›
"nnoremap <F2> gg=G<CR>
" è®¾ç½®ä»£ç æŠ˜å 
"map <F2> :call CodeFold()<CR>
"func! CodeFold()
    "exec 'set foldmethod=indent'
    "zC
    "zO
"endfunc

" å»ç©ºè¡Œ
nnoremap <F7> :g/^\s*$/d<CR>

"taglist
":nmap <silent> <F4> <ESC>:Tlist<RETURN>

"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
"""""æŒ‰F5ç¼–è¯‘è¿è¡Œ
""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
map <F5> :call CompileRun()<CR>
func! CompileRun()
    exec 'w'
    if search('mpi\.h') != 0
        exec '!mpirun -np 4 ./%<'
    elseif &filetype ==? 'c'
        let l:compilecmd='!gcc '
        let l:compileflag='-o %< '
        if search('mpi\.h') != 0
            let l:compilecmd = '!mpicc '
        endif
        if search('glut\.h') != 0
            let l:compileflag .= ' -lglut -lGLU -lGL '
        endif
        if search('cv\.h') != 0
            let l:compileflag .= ' -lcv -lhighgui -lcvaux '
        endif
        if search('omp\.h') != 0
            let l:compileflag .= ' -fopenmp '
        endif
        if search('math\.h') != 0
            let l:compileflag .= ' -lm '
        endif
        exec l:compilecmd.' % '.l:compileflag
        :!time ./%<
        :!rm -f ./%<
    elseif &filetype ==? 'cpp'
        let l:compilecmd='!g++ '
        let l:compileflag='-o %< '
        if search('mpi\.h') != 0
            let l:compilecmd = '!mpic++ '
        endif
        if search('glut\.h') != 0
            let l:compileflag .= ' -lglut -lGLU -lGL '
        endif
        if search('cv\.h') != 0
            let l:compileflag .= ' -lcv -lhighgui -lcvaux '
        endif
        if search('omp\.h') != 0
            let l:compileflag .= ' -fopenmp '
        endif
        if search('math\.h') != 0
            let l:compileflag .= ' -lm '
        endif
        exec l:compilecmd.' % '.l:compileflag
        :!time ./%<
        :!rm -f ./%<
    elseif &filetype ==? 'java'
        :!javac %
        :!time java %<
    elseif &filetype ==? 'sh'
        :!time bash %
    elseif &filetype ==? 'python'
        :!time python3 %
    elseif &filetype ==? 'javascript'
        :!time node %
    elseif &filetype ==? 'typescript'
        :!time tsc %
    elseif &filetype ==? 'html'
        :!firefox % &
    elseif &filetype ==? 'php'
        :!time php -f %
    elseif &filetype ==? 'lua'
        :!time lua %
    elseif &filetype ==? 'go'
        "":!go build %<
        :!time go run %
    elseif &filetype ==? 'julia'
        :!time julia %
    elseif &filetype ==? 'ruby'
        :!time ruby %
    elseif &filetype ==? 'rust'
        :!time rust %
    elseif &filetype ==? 'mkd'
        :!~/.vim/markdown.pl % > %.html &
        :!firefox %.html &
    endif
endfunc

""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
"""""""C,C++çš„è°ƒè¯•
""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
map <F6> :call Rungdb()<CR>
func! Rungdb()
    exec 'w'
    exec '!g++ % -g -o %<'
    exec '!gdb ./%<'
endfunc

""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
"""""""ä»£ç æ ¼å¼åŒ–
""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
"map <F4> :call FormatSrc()<CR>

" å®šä¹‰FormartSrc()
func! FormatSrc()
    exec 'w'
    if &filetype ==? 'c'
        exec '!astyle --style=ansi -a --suffix=none %'
    elseif &filetype ==? 'cpp' || &filetype ==? 'hpp'
        exec 'r !astyle --style=ansi --one-line=keep-statements -a --suffix=none %> /dev/null 2>&1'
    elseif &filetype ==? 'perl'
        exec '!astyle --style=gnu --suffix=none %'
    elseif &filetype ==? 'py'||&filetype ==? 'python'
        exec 'r !autopep8 -i --aggressive %'
    elseif &filetype ==? 'java'
        exec '!astyle --style=java --suffix=none %'
    elseif &filetype ==? 'jsp'
        exec '!astyle --style=gnu --suffix=none %'
    elseif &filetype ==? 'xml'
        exec '!astyle --style=gnu --suffix=none %'
    else
        exec 'normal gg=G'
        return
    endif
    exec 'e! %'
endfunc

""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
""å®ç”¨è®¾ç½®
"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
if has('autocmd')
    augroup ac
        autocmd!
        autocmd BufReadPost * if line("'\"") > 0 && line("'\"") <= line("$") | exe "normal g`\"" | endif
    augroup END
endif

""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
""åˆ‡æ¢è¡Œå·æ˜¾ç¤ºå’Œç¼©è¿›çº¿æ˜¾ç¤º
"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
nmap <F3> :call ToggleLineNumber()<CR>
func! ToggleLineNumber()
  if !exists("b:togglenum")
    let b:togglenum=0
  endif
  if b:togglenum==0
    execute "set number"
    execute "set norelativenumber"
    let b:togglenum=1
    if exists("g:indentLine_enabled")
      execute "IndentLinesEnable"
    endif
  else
    if b:togglenum==1
      execute "set number"
      execute "set relativenumber"
      let b:togglenum=2
      if exists("g:indentLine_enabled")
        execute "IndentLinesEnable"
      endif
    else
      execute "set nonumber"
      execute "set norelativenumber"
      let b:togglenum=0
      if exists("g:indentLine_enabled")
        execute "IndentLinesDisable"
      endif
    endif
  endif
endfunc

""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
""è§£å†³è¾“å…¥æ³•é—®é¢˜
"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
let g:input_toggle = 0          " è®¾ç½®é»˜è®¤ä¸ºè‹±æ–‡è¾“å…¥æ³•
function! Fcitx2en()
   let s:input_status = system("fcitx5-remote")
   if s:input_status == 2
      let g:input_toggle = 1
      let l:a = system("fcitx5-remote -c")
   endif
endfunction

function! Fcitx2zh()
   let s:input_status = system("fcitx5-remote")
   if s:input_status != 2 && g:input_toggle == 1
      let l:a = system("fcitx5-remote -o")
      let g:input_toggle = 0
   endif
endfunction

set timeoutlen=150
autocmd InsertLeave * call Fcitx2en()    " é€€å‡ºInsertæ¨¡å¼æ—¶å…³é—­ä¸­æ–‡è¾“å…¥æ³•
autocmd InsertEnter * call Fcitx2zh()   " è¿›å…¥Insertæ¨¡å¼æ—¶å¼€å¯ä¸­æ–‡è¾“å…¥æ³•

" ä¸ºCç¨‹åºæä¾›è‡ªåŠ¨ç¼©è¿›
" è‡ªåŠ¨è¡¥å…¨
"":inoremap ( ()<ESC>i
"":inoremap ) <c-r>=ClosePair(')')<CR>
":inoremap { {<CR>}<ESC>O
":inoremap } <c-r>=ClosePair('}')<CR>
"":inoremap [ []<ESC>i
"":inoremap ] <c-r>=ClosePair(']')<CR>
"":inoremap " ""<ESC>i
"":inoremap ' ''<ESC>i
""function! ClosePair(char)
""  if getline('.')[col('.') - 1] == a:char
""      return "\<Right>"
""  else
""      return a:char
""  endif
""endfunction


" èƒ½å¤Ÿæ¼‚äº®åœ°æ˜¾ç¤º.NFOæ–‡ä»¶
function! SetFileEncodings(encodings)
    let b:myfileencodingsbak=&fileencodings
    let &fileencodings=a:encodings
endfunction
function! RestoreFileEncodings()
    let &fileencodings=b:myfileencodingsbak
    unlet b:myfileencodingsbak
endfunction
augroup auc
    autocmd!
    autocmd BufReadPre *.nfo call SetFileEncodings('cp437')|setambiwidth=single autocmd BufReadPost *.nfo callRestoreFileEncodings()
augroup END

nmap <silent>di :!curl dict://dict.org/d:<cword><CR><CR>

" execute a command and show its output in a split window
command! -nargs=* -complete=shellcmd Rsplit execute "new | r! <args>"

" execute a command and show its output in a new tab
command! -nargs=* -complete=shellcmd Rtab execute "tabnew | r! <args>"

" :new | 0read ! <command>

"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
" Vim-Plug
"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
silent! call plug#begin('~/.vim/plugged')

if empty(glob('~/.vim/autoload/plug.vim'))
  silent !curl -fLo ~/.vim/autoload/plug.vim --create-dirs https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim
  autocmd VimEnter * PlugInstall --sync | source ~/.vimrc
endif

""""""""""""""""""""""""""""""""toggle-terminal"""""""""""""""""""""""""""
" vim8
" terminal toggle
if version >= 800
  Plug 'pakutoma/toggle-terminal'
  tnoremap <silent> <C-@> <C-w>:ToggleTerminal<CR>
  nnoremap <silent> <C-@> :ToggleTerminal<CR>
  let g:toggle_terminal#command = 'zsh'
  let g:toggle_terminal#position = 'topleft'
endif

" map <C-@> to toggle
" set your favorite shell
" set terminal window position
" (see possible options at :help vertical)

":term
":vert term

""""""""""""""""""""""""""""""""""""taglist"""""""""""""""""""""""""""""""
"let g:Tlist_Show_One_File=1     "ä¸åŒæ—¶æ˜¾ç¤ºå¤šä¸ªæ–‡ä»¶çš„tagï¼Œåªæ˜¾ç¤ºå½“å‰æ–‡ä»¶çš„
"let g:Tlist_Exit_OnlyWindow=1   "å¦‚æœtaglistçª—å£æ˜¯æœ€åä¸€ä¸ªçª—å£ï¼Œåˆ™é€€å‡ºvim
"let g:Tlist_Ctags_Cmd='/usr/bin/ctags' "å°†taglistä¸ctagså…³è”
"execute pathogen#infect()

"""""""""""""""""""""""""""""""""vim-commentary"""""""""""""""""""""""""""
" ä»£ç æ³¨é‡Š(nerdcommenterå–ä»£)
" Plug 'tpope/vim-commentary'
" autocmd FileType apache setlocal commentstring=#\ %s

"""""""""""""""""""""""""""""""""vim-fugitive"""""""""""""""""""""""""""""
" GitåŒ…è£…(disabled)
if executable('git')
  Plug 'tpope/vim-fugitive', {'on': []}
endif

"""""""""""""""""""""""""""""""""vim-surround"""""""""""""""""""""""""""""
" å­—ç¬¦ä¸²æ ‡è®°å¤„ç†
Plug 'tpope/vim-surround'

"""""""""""""""""""""""""""""""""""wildfire"""""""""""""""""""""""""""""""
" ä»£ç æ®µè‡ªåŠ¨é€‰æ‹©
Plug 'gcmt/wildfire.vim'

"""""""""""""""""""""""""""""""""vim-autoformat"""""""""""""""""""""""""""
" è‡ªåŠ¨æ ¼å¼åŒ–
Plug 'Chiel92/vim-autoformat'
" let g:autoformat_autoindent = 0
" let g:autoformat_retab = 0
" let g:autoformat_remove_trailing_spaces = 0
" autocmd FileType vim,tex let b:autoformat_autoindent=0
" au BufWrite * :Autoformat

map <F4> :call Format()<CR>
func! Format()
    exec 'w'
    exec 'Autoformat'
endfunc

""""""""""""""""""""""""""""""""vim-colorschemes""""""""""""""""""""""""""
" é…è‰²æ–¹æ¡ˆ
Plug 'flazz/vim-colorschemes'
Plug 'felixhummel/setcolors.vim'
" onehalf theme
Plug 'sonph/onehalf'
" onedark theme
Plug 'joshdick/onedark.vim'

" colorscheme molokai
" :SetColors all
" F8/Alt+F8 switch scheme

"""""""""""""""""""""""""""""""""""unite.vim"""""""""""""""""""""""""""""""
" è‡ªå®šä¹‰å¼¹å‡ºèœå•
Plug 'Shougo/unite.vim'

""""""""""""""""""""""""""""""""""limelight.vim"""""""""""""""""""""""""""""
" èšç„¦å½“å‰è¡Œ
Plug 'junegunn/limelight.vim'

"""""""""""""""""""""""""""""""""""vim-polyglot"""""""""""""""""""""""""""""
" ç¼–ç¨‹è¯­è¨€åŒ…
Plug 'sheerun/vim-polyglot'

"""""""""""""""""""""""""""""""""""vim-gitgutter"""""""""""""""""""""""""""""
" ä»£ç å˜æ›´è®°å½•
if executable('git')
  Plug 'airblade/vim-gitgutter'
endif

"""""""""""""""""""""""""""""""""""vim-closetag"""""""""""""""""""""""""""""
" tagè‡ªåŠ¨é…å¯¹
Plug 'alvan/vim-closetag'

"""""""""""""""""""""""""""""""""""vim-which-key"""""""""""""""""""""""""""""
" æ˜¾ç¤ºæŒ‰é”®ç»‘å®š
Plug 'liuchengxu/vim-which-key'

"""""""""""""""""""""""""""""""""""""LeaderF""""""""""""""""""""""""""""""""
" æ¨¡ç³ŠæŸ¥æ‰¾
"if version >= 704 || (version == 704 && has('patch399'))
if has("patch-7.4-399") && (has('python') || has('python3'))
  Plug 'Yggdroot/LeaderF'
endif

""""""""""""""""""""""""""""""""""vim-easymotion""""""""""""""""""""""""""""
" å¿«é€Ÿè·³è½¬
Plug 'Lokaltog/vim-easymotion'
" s{char}{char} to move to {char}{char}
nmap s <Plug>(easymotion-overwin-f2)
"let g:EasyMotion_smartcase = 1

""""""""""""""""""""""""""""""""""vim-sneak"""""""""""""""""""""""""""""""""
" å¿«é€Ÿè·³è½¬
"Plug 'justinmk/vim-sneak'

""""""""""""""""""""""""""""""""""""""vim-qf""""""""""""""""""""""""""""""""
" quickfixå¢å¼º
Plug 'romainl/vim-qf'

""""""""""""""""""""""""""""""""""asyncrun.vim""""""""""""""""""""""""""""""
" vim8
" å¼‚æ­¥æ‰§è¡Œ
if version >=800
  Plug 'skywind3000/asyncrun.vim'
endif
" let g:asyncrun_open = 8

"""""""""""""""""""""""""""""""""""ranger.vim"""""""""""""""""""""""""""""""
" ç»§æ‰¿rangeræ–‡ä»¶æµè§ˆå™¨
Plug 'francoiscabrol/ranger.vim'
Plug 'rbgrouleff/bclose.vim'
" let g:NERDTreeHijackNetrw = 0  " add this line if you use NERDTree
" let g:ranger_replace_netrw = 1 " open ranger when vim open a directory

" let g:ranger_map_keys = 0  " replace default ranger key
" let g:ranger_command_override = 'ranger --cmd \"set show_hidden=true\"'      " show hidden files by default

""""""""""""""""""""""""""""""""""""vimmake"""""""""""""""""""""""""""""""""
" è‡ªå®šä¹‰å‘½ä»¤
Plug 'skywind3000/vimmake'
" let g:vimmake_mode = { 'gcc':'async', 'run':'normal' }

""""""""""""""""""""""""""""""""""vim-fcitx"""""""""""""""""""""""""""""""""
" fcitxçŠ¶æ€åˆ‡æ¢
"Plug 'h-youhei/vim-fcitx'

""""""""""""""""""""""""""""""""""vim-alias"""""""""""""""""""""""""""""""""
" å‘½ä»¤åˆ«å
Plug 'Konfekt/vim-alias'
" if exists('s:loaded_vimafter')
"   silent doautocmd VimAfter VimEnter *
" else
"   let s:loaded_vimafter = 1
"   augroup VimAfter
"     autocmd!
"     autocmd VimEnter * source ~/.vim/after/vimrc.vim
"   augroup END
" endif

autocmd VimEnter * :Alias ar AsyncRun

""""""""""""""""""""""""""""""""""delimitMate"""""""""""""""""""""""""""""""
" ç¬¦å·è‡ªåŠ¨è¡¥å…¨
Plug 'Raimondi/delimitMate'

""""""""""""""""""""""""""""""""""""vim-go""""""""""""""""""""""""""""""""""
" golangæ’ä»¶
" Plug 'fatih/vim-go', { 'do': ':GoUpdateBinaries' }

""""""""""""""""""""""""""""""""""""minimap.vim""""""""""""""""""""""""""""""""""
" ä»£ç minimap
if executable('code-minimap')
    Plug 'wfxr/minimap.vim'
    let g:minimap_width = 10
    let g:minimap_auto_start = 1
    let g:minimap_auto_start_win_enter = 1
endif

""""""""""""""""""""""""""""""""""""txt.vim"""""""""""""""""""""""""""""""""
" é«˜äº®æ˜¾ç¤ºtxtæ–‡æœ¬
Plug 'vim-scripts/txt.vim'

" æ¼‚äº®æ˜¾ç¤ºtxt
let g:tlist_txt_settings = 'txt;c:content;f:figures;t:tables'
au BufRead,BufNewFile *.txt setlocal ft=txt

"""""""""""""""""""""""""""""""""vim-floaterm""""""""""""""""""""""""""""""
if version >=800
  Plug 'voldikss/vim-floaterm'
  let g:floaterm_keymap_toggle = '<F2>'
  "nnoremap   <silent>   <F2>   :FloatermToggle<CR>
  "tnoremap   <silent>   <F2>   <C-\><C-n>:FloatermToggle<CR>
endif

"""""""""""""""""""""""""""""""""SingleCompile""""""""""""""""""""""""""""""
" è¿è¡Œä»£ç 
Plug 'xuhdev/SingleCompile'
" nmap <F5> :SCCompileRun<cr>

""""""""""""""""""""""""""""""""""vim-markdown""""""""""""""""""""""""""""""
" markdownæ”¯æŒ
Plug 'godlygeek/tabular' 
Plug 'plasticboy/vim-markdown'
Plug 'mzlogin/vim-markdown-toc'
" åœ¨å½“å‰å…‰æ ‡åç”Ÿæˆç›®å½•
" :GenTocMarked
" æ›´æ–°ç›®å½•
" :UpdateToc
" å–æ¶ˆå‚¨å­˜æ—¶è‡ªåŠ¨æ›´æ–°ç›®å½•
let g:vmt_auto_update_on_save = 0
" é«˜äº®æ•°å­¦å…¬å¼
let g:vim_markdown_math = 1
" ç¦ç”¨ä»£ç å—è¯­æ³•éšè—
let g:vim_markdown_conceal_code_blocks = 0
" å¯ç”¨åˆ é™¤çº¿
let g:vim_markdown_strikethrough = 1
" åˆ—è¡¨ç¼©è¿›
let g:vim_markdown_new_list_item_indent = 2
" è¯­æ³•çªå‡º
let g:vim_markdown_frontmatter = 1
let g:vim_markdown_toml_frontmatter = 1
let g:vim_markdown_json_frontmatter = 1

"""""""""""""""""""""""""""""""""""indentLine"""""""""""""""""""""""""""""""
" å¯è§†åŒ–ç¼©è¿›
Plug 'Yggdroot/indentLine'
" let g:indentLine_setColors = 0
" let g:indentLine_color_term = 239
" let g:indentLine_char_list = ['|', 'Â¦', 'â”†', 'â”Š']
" let g:indentLine_concealcursor = 'inc'
" let g:indentLine_conceallevel = 2
let g:indentLine_enabled = 0
"nnoremap   <silent>   <F3>   :IndentLineToggle<CR>

""""""""""""""""""""""""""""""""""nerdcommenter""""""""""""""""""""""""""""""
" ä»£ç æ³¨é‡Š
Plug 'scrooloose/nerdcommenter'
" Add spaces after comment delimiters by default
let g:NERDSpaceDelims = 1

" Use compact syntax for prettified multi-line comments
let g:NERDCompactSexyComs = 1

" Align line-wise comment delimiters flush left instead of following code indentation
let g:NERDDefaultAlign = 'left'

" Set a language to use its alternate delimiters by default
let g:NERDAltDelims_java = 1

" Add your own custom formats or override the defaults
let g:NERDCustomDelimiters = { 'c': { 'left': '/**','right': '*/' } }

" Allow commenting and inverting empty lines (useful when commenting a region)
let g:NERDCommentEmptyLines = 1

" Enable trimming of trailing whitespace when uncommenting
let g:NERDTrimTrailingWhitespace = 1

" Enable NERDCommenterToggle to check all selected lines is commented or not
let g:NERDToggleCheckAllLines = 1

"""""""""""""""""""""""""""""""""""""nerdtree"""""""""""""""""""""""""""""""""
" æ ‘å½¢æ–‡ä»¶æµè§ˆå™¨ 
Plug 'scrooloose/nerdtree'
nnoremap <F9> :exe 'NERDTreeToggle'<CR>
let g:NERDTreeDirArrowExpandable = 'â–¸'
let g:NERDTreeDirArrowCollapsible = 'â–¾'

let g:NERDChristmasTree=1
let g:NERDTreeAutoCenter=1
" let g:NERDTreeBookmarksFile=$VIM.'\Data\NerdBookmarks.txt'
let g:NERDTreeNodeDelimiter="\u00a0"
let g:NERDTreeMouseMode=2
let g:NERDTreeShowBookmarks=1
let g:NERDTreeShowFiles=1
let g:NERDTreeShowHidden=1
let g:NERDTreeShowLineNumbers=1
let g:NERDTreeWinPos='left'
let g:NERDTreeWinSize=31
" NERDTress File highlighting
" function! NERDTreeHighlightFile(extension, fg, bg, guifg, guibg)
"  exec 'autocmd filetype nerdtree highlight ' . a:extension .' ctermbg='. a:bg .' ctermfg='. a:fg .' guibg='. a:guibg .' guifg='. a:guifg
"  exec 'autocmd filetype nerdtree syn match ' . a:extension .' #^\s\+.*'. a:extension .'$#'
" endfunction

" call NERDTreeHighlightFile('jade', 'green', 'none', 'green', '#151515')
" call NERDTreeHighlightFile('ini', 'yellow', 'none', 'yellow', '#151515')
" call NERDTreeHighlightFile('md', 'blue', 'none', '#3366FF', '#151515')
" call NERDTreeHighlightFile('yml', 'yellow', 'none', 'yellow', '#151515')
" call NERDTreeHighlightFile('config', 'yellow', 'none', 'yellow', '#151515')
" call NERDTreeHighlightFile('conf', 'yellow', 'none', 'yellow', '#151515')
" call NERDTreeHighlightFile('json', 'yellow', 'none', 'yellow', '#151515')
" call NERDTreeHighlightFile('html', 'yellow', 'none', 'yellow', '#151515')
" call NERDTreeHighlightFile('styl', 'cyan', 'none', 'cyan', '#151515')
" call NERDTreeHighlightFile('css', 'cyan', 'none', 'cyan', '#151515')
" call NERDTreeHighlightFile('coffee', 'Red', 'none', 'red', '#151515')
" call NERDTreeHighlightFile('js', 'Red', 'none', '#ffa500', '#151515')
" call NERDTreeHighlightFile('php', 'Magenta', 'none', '#ff00ff', '#151515')

""""""""""""""""""""""""""""vim-nerdtree-syntax-highlight""""""""""""""""""""""""""
" æ ‘å½¢æ–‡ä»¶æµè§ˆå™¨ 
" nerdtreeé«˜äº®
Plug 'tiagofumo/vim-nerdtree-syntax-highlight'

""""""""""""""""""""""""""""rainbow_parentheses.vim"""""""""""""""""""""""""""""""""
" å½©è‰²æ‹¬å·
Plug 'kien/rainbow_parentheses.vim'
let g:rbpt_colorpairs = [['brown',       'RoyalBlue3'],['Darkblue',    'SeaGreen3'],['darkgray',    'DarkOrchid3'],['darkgreen',   'firebrick3'],['darkcyan',    'RoyalBlue3'],['darkred',     'SeaGreen3'],['darkmagenta', 'DarkOrchid3'],['brown',       'firebrick3'],['gray',        'RoyalBlue3'],['darkmagenta', 'DarkOrchid3'],['Darkblue',    'firebrick3'],['darkgreen',   'RoyalBlue3'],['darkcyan',    'SeaGreen3'],['darkred',     'DarkOrchid3'],['red',         'firebrick3'],]

" ä¸åŠ å…¥è¿™è¡Œ, é˜²æ­¢é»‘è‰²æ‹¬å·å‡ºç°, å¾ˆéš¾è¯†åˆ«
" " \ ['black',       'SeaGreen3'],

let g:rbpt_max = 16
 let g:rbpt_loadcmd_toggle = 0
augroup rpt
    autocmd!
    autocmd VimEnter * RainbowParenthesesToggle
    autocmd Syntax * RainbowParenthesesLoadRound
    autocmd Syntax * RainbowParenthesesLoadSquare
    autocmd Syntax * RainbowParenthesesLoadBraces
augroup END

""""""""""""""""""""""""""""""""""""""""ale""""""""""""""""""""""""""""""""""""
" å¼‚æ­¥æ£€é”™
Plug 'dense-analysis/ale'
"å§‹ç»ˆå¼€å¯æ ‡å¿—åˆ—
let g:ale_sign_column_always = 1
let g:ale_set_highlights = 0
"è‡ªå®šä¹‰errorå’Œwarningå›¾æ ‡
let g:ale_sign_error = 'âœ—'
let g:ale_sign_warning = 'âš '
"åœ¨vimè‡ªå¸¦çš„çŠ¶æ€æ ä¸­æ•´åˆale
let g:ale_statusline_format = ['âœ— %d', 'âš  %d', 'âœ” OK']
"æ˜¾ç¤ºLinteråç§°,å‡ºé”™æˆ–è­¦å‘Šç­‰ç›¸å…³ä¿¡æ¯
let g:ale_echo_msg_error_str = 'âœ—'
let g:ale_echo_msg_warning_str = 'âš '
let g:ale_echo_msg_format = '[%linter%] %s [%severity%]'
"é¿å…Javaè°ƒè¯•ä¿¡æ¯ä¹±ç 
let g:ale_java_javac_options = '-encoding UTF-8  -J-Duser.language=en'
"æ–‡ä»¶å†…å®¹å‘ç”Ÿå˜åŒ–æ—¶ä¸è¿›è¡Œæ£€æŸ¥
let g:ale_lint_on_text_changed = 'never'
"æ‰“å¼€æ–‡ä»¶æ—¶è¿›è¡Œæ£€æŸ¥
let g:ale_lint_on_enter = 1
"ä½¿ç”¨quickfixä»£æ›¿loclistè¿›è¡Œé”™è¯¯å’Œè­¦å‘Šä¿¡æ¯æ˜¾ç¤º
let g:ale_completion_enabled = 1
let g:ale_set_loclist = 0
let g:ale_set_quickfix = 1
"æ˜¯å¦åœ¨æœ‰è­¦å‘Šæˆ–é”™è¯¯æ—¶æ‰“å¼€quickfixçª—å£
let g:ale_open_list = 0
"quickfixçª—å£é«˜åº¦
let g:ale_list_window_size = 5
"è­¦å‘Šå’Œé”™è¯¯æ¶ˆå¤±, quickfixçª—å£ä¸å…³é—­
"let g:ale_keep_list_window_open = 1
"çºµå‘æ˜¾ç¤ºquickfixçª—å£
"let g:ale_list_vertical = 1
"æ™®é€šæ¨¡å¼ä¸‹ï¼Œspå‰å¾€ä¸Šä¸€ä¸ªé”™è¯¯æˆ–è­¦å‘Šï¼Œsnå‰å¾€ä¸‹ä¸€ä¸ªé”™è¯¯æˆ–è­¦å‘Š
nmap sp <Plug>(ale_previous_wrap)
nmap sn <Plug>(ale_next_wrap)
"<Leader>sè§¦å‘/å…³é—­è¯­æ³•æ£€æŸ¥
nmap <Leader>s :ALEToggle<CR>
"<Leader>dæŸ¥çœ‹é”™è¯¯æˆ–è­¦å‘Šçš„è¯¦ç»†ä¿¡æ¯
nmap <Leader>d :ALEDetail<CR>

""""""""""""""""""""""""""""""""""""""tagbar""""""""""""""""""""""""""""""""""""
" æ ‡è®°æ˜¾ç¤º
Plug 'majutsushi/tagbar'
nmap <F10> :TagbarToggle<CR>

"""""""""""""""""""""""""""""""""simpleterm.vim"""""""""""""""""""""""""""""""""
" vim8
" æ›´æ–¹ä¾¿çš„terminal
if version >= 800
  Plug 'gu-fan/simpleterm.vim'
endif
"let g:simpleterm.row = 10
"let g:simpleterm.pos = 'below'
"let g:simpleterm.bufs

":term
":vert term

""""""""""""""""""""""""""""""""""""ultisnips"""""""""""""""""""""""""""""""""""
" ä»£ç ç‰‡æ®µç”Ÿæˆ
if (version >= 800 && has('python'))
  Plug 'SirVer/ultisnips'
  Plug 'honza/vim-snippets'
  " Trigger configuration. Do not use <tab> if you use https://github.com/Valloric/YouCompleteMe.
  let g:UltiSnipsExpandTrigger='<tab>'
  let g:UltiSnipsJumpForwardTrigger='<c-b>'
  let g:UltiSnipsJumpBackwardTrigger='<c-z>'
  " If you want :UltiSnipsEdit to split your window.
  let g:UltiSnipsEditSplit='vertical'
endif

"""""""""""""""""""""""""""""""""""""completor.nvim"""""""""""""""""""""""""""""""""""
" vim8
" ä»£ç è‡ªåŠ¨è¡¥å…¨
if (version >= 800 && has('python'))
  Plug 'maralla/completor.vim'
  Plug 'kyouryuukunn/completor-necovim'
  Plug 'tokorom/completor-shell'
  Plug 'masawada/completor-dictionary'
  Plug 'maralla/completor-typescript'

  let g:completor_python_binary = 'python3'
  let g:completor_clang_binary = 'clang'
  let g:completor_gocode_binary = 'gocode'
  let g:completor_node_binary = 'node'
  let g:completor_tsserver_binary = 'tsserver'
  let g:completor_css_omni_trigger = '([\w-]+|@[\w-]*|[\w-]+:\s*[\w-]*)$'

  let g:completor_auto_trigger = 1
  let g:completor_complete_options = 'menuone,noselect,preview'

  let g:completor_go_guru_binary = 'guru'
  let g:completor_go_gofmt_binary = 'goimports'

  noremap <silent> <leader>d :call completor#do('definition')<CR>
  noremap <silent> <leader>c :call completor#do('doc')<CR>
  noremap <silent> <leader>f :call completor#do('format')<CR>
  noremap <silent> <leader>s :call completor#do('hover')<CR>

  autocmd BufWritePost *.go :call completor#do('format')
endif

"let g:completor_racer_binary = '/path/to/racer'

" other languages
"let g:completor_{filetype}_omni_trigger = '<python regex>'

" Enable LSP
"let g:completor_filetype_map = {}
" Enable lsp for go by using gopls
"let g:completor_filetype_map.go = {'ft': 'lsp', 'cmd': 'gopls'}
" Enable lsp for rust by using rls
"let g:completor_filetype_map.rust = {'ft': 'lsp', 'cmd': 'rls'}
" Enable lsp for c by using clangd
"let g:completor_filetype_map.c = {'ft': 'lsp', 'cmd': 'clangd-7'}

"""""""""""""""""""""""""""""""""""""youcompleteme"""""""""""""""""""""""""""""""""""
" ä»£ç è‡ªåŠ¨è¡¥å…¨
"Plug 'ycm-core/YouCompleteMe'

"""""""""""""""""""""""""""""""""""""coc.nvim"""""""""""""""""""""""""""""""""""
" vim8
" ä»£ç è‡ªåŠ¨è¡¥å…¨
"if version >= 800
  " Plug 'neoclide/coc.nvim', {'branch': 'release'}
"endif

"""""""""""""""""""""""""""""""""""""deoplete.nvim"""""""""""""""""""""""""""""""""""
" vim8
" ä»£ç è‡ªåŠ¨è¡¥å…¨
" if version >= 800
  "Plug 'Shougo/deoplete.nvim'
  "Plug 'Shougo/deoplete.nvim'
  "Plug 'roxma/nvim-yarp'
  "Plug 'roxma/vim-hug-neovim-rpc'
  " è¡¥å…¨æº
  "Plug 'tbodt/deoplete-tabnine', { 'do': './install.sh' }
  "Plug 'deoplete-plugins/deoplete-go', { 'do': 'make'}

  "let g:deoplete#enable_at_startup = 1
"endif

"""""""""""""""""""""""""""""""""""lightline.vim""""""""""""""""""""""""""""""""""
" è½»é‡çº§çŠ¶æ€æ 
"Plug 'itchyny/lightline.vim'
"set laststatus=2

"""""""""""""""""""""""""""""""""""""vim-airline"""""""""""""""""""""""""""""""""""
" é‡é‡çº§çŠ¶æ€æ 
Plug 'bling/vim-airline'
Plug 'vim-airline/vim-airline-themes'
let g:airline_left_sep=''
let g:airline_right_sep=''
let g:airline_powerline_fonts = 1
let g:airline_enable_branch=1
let g:airline#extensions#branch#enabled = 1
let g:airline#extensions#hunks#enabled=0
let g:airline_enable_syntastic=0
let g:airline_detect_paste=1
let g:airline_theme='badwolf'         "è®¾ç½®ä¸»é¢˜
let g:airline_detect_whitespace = 0    "å…³é—­ç©ºç™½ç¬¦æ£€æµ‹
let g:airline#extensions#ale#enabled = 1
let g:airline#extensions#tabline#enabled = 1    "é¡¶éƒ¨tabæ æ˜¾ç¤º
let g:airline#extensions#csv#enabled = 1
let g:airline#extensions#csv#column_display = 'Number'
let g:airline#extensions#csv#column_display = 'Name'

if !exists('g:airline_symbols')
let g:airline_symbols = {}
endif
" unicode symbols
let g:airline_left_sep = 'Â»'
let g:airline_left_sep = 'â–¶'
let g:airline_right_sep = 'Â«'
let g:airline_right_sep = 'â—€'
let g:airline_symbols.linenr = 'âŠ'
let g:airline_symbols.linenr = 'â¤'
let g:airline_symbols.linenr = 'Â¶'
let g:airline_symbols.branch = 'â‡'
let g:airline_symbols.paste = 'Ï'
let g:airline_symbols.paste = 'Ã'
let g:airline_symbols.paste = 'âˆ¥'
let g:airline_symbols.whitespace = 'Î'

" airline symbols
let g:airline_left_sep = 'î‚°'
let g:airline_left_alt_sep = 'î‚±'
let g:airline_right_sep = 'î‚²'
let g:airline_right_alt_sep = 'î‚³'
let g:airline_symbols.branch = 'î‚ '
let g:airline_symbols.readonly = 'î‚¢'
let g:airline_symbols.crypt = 'ğŸ”’'
let g:airline_symbols.maxlinenr = 'â˜°'
let g:airline_symbols.notexists = 'âˆ„'
let g:airline_symbols.linenr = 'î‚¡'

let g:airline#extensions#ale#enabled = 1
let g:airline#extensions#default#section_truncate_width = {'b': 79,'x': 60,'y': 88,'z': 45,'warning': 80,'error': 80,}
let g:airline#extensions#default#layout = [[ 'a', 'b', 'c', 'gutter' ],[ 'x', 'y', 'z', 'error', 'warning' ]]
"let g:airline_section_a = airline#section#create(['mode', 'paste', 'capslock', 'iminsert'])
"let g:airline_section_b = airline#section#create(['branch'])
"let g:airline_section_b = '%F%m%r%h%w'
let g:airline_section_c = '[No.%n:%F %{printf("%.2f",getfsize(bufname("%"))/1000.0)}K /%B]'
"let g:airline_section_gutter = airline#section#create(['%='])
"let g:airline_section_gutter = airline#section#create(['branch', 'hunks'])

"let g:airline_section_x = airline#section#create(['branch', 'ffenc'])
let g:airline_section_x = '[%{strftime("%Y-%m-%d %H:%M")}]'
"let g:airline_section_y = airline#section#create_right(['ffenc', 'filetype'])
"let g:airline_section_y = '%{&fileformat} %{(&fenc == "" ? &enc : &fenc)} %{strlen(&ft) ? &ft : "Noft"}%{&bomb ? " BOM" : ""}'
"let g:airline_section_y = '[%{strftime("%Y-%m-%d %H:%M")}]'
"let g:airline_section_z = '%#__accent_bold#[%p%% : (%l,%v)/%LL]%#__restore__#'
"let g:airline_section_warning = airline#section#create(['syntastic', 'eclim', 'whitespace'])
let g:asyncrun_status = ''
"let g:airline_section_gutter = airline#section#create(['%{g:asyncrun_status}', '%='])

call plug#end()
